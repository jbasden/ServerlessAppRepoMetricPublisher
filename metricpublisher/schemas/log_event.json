{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Schema for the log_event lambda request object",
    "type": "object",
    "properties": {
        "request_id": {
            "type": "string"
        },
        "metric_data": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "MetricName": {
                        "type": "string"
                    },
                    "Dimensions": {
                        "type": "array",
                        "properties": {
                            "Name": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "Name",
                            "Value"
                        ]
                    },
                    "Timestamp": {
                        "type": "number"
                    },
                    "Value": {
                        "type": "number"
                    },
                    "StatisticValues": {
                        "type": "object",
                        "properties": {
                            "SampleCount": {
                                "type": "number"
                            },
                            "Sum": {
                                "type": "number"
                            },
                            "Minimum": {
                                "type": "number"
                            },
                            "Maximum": {
                                "type": "number"
                            }
                        },
                        "required": [
                            "SampleCount",
                            "Sum",
                            "Minimum",
                            "Maximum"
                        ]
                    },
                    "Unit": {
                        "type": "string",
                        "enum": [
                            "Seconds",
                            "Microseconds",
                            "Milliseconds",
                            "Bytes",
                            "Kilobytes",
                            "Megabytes",
                            "Gigabytes",
                            "Terabytes",
                            "Bits",
                            "Kilobits",
                            "Megabits",
                            "Gigabits",
                            "Terabits",
                            "Percent",
                            "Count",
                            "Bytes/Second",
                            "Kilobytes/Second",
                            "Megabytes/Second",
                            "Gigabytes/Second",
                            "Terabytes/Second",
                            "Bits/Second",
                            "Kilobits/Second",
                            "Megabits/Second",
                            "Gigabits/Second",
                            "Terabits/Second",
                            "Count/Second",
                            "None"
                        ]
                    },
                    "StorageResolution": {
                        "type": "number"
                    }
                },
                "required": [
                    "MetricName"
                ],
                "oneOf": [
                    {
                        "required": [
                            "Value"
                        ],
                        "not": {
                            "required": [
                                "StatisticValues"
                            ]
                        }
                    },
                    {
                        "required": [
                            "StatisticValues"
                        ],
                        "not": {
                            "required": [
                                "Value"
                            ]
                        }
                    }
                ]
            }
        }
    },
    "required": [
        "request_id",
        "metric_data"
    ]
}
